<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UFC PRO - Nil All InfoTech</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background: #050505; font-family: 'Roboto', sans-serif; color: white; margin: 0; }
        .overlay { background: linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.9)); min-height: 100vh; padding: 20px; }
        .glass-card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .font-ufc { font-family: 'Anton', sans-serif; text-transform: uppercase; letter-spacing: 1px; }
        .details { max-height: 0; overflow: hidden; transition: 0.4s ease-out; opacity: 0; }
        .active .details { max-height: 300px; opacity: 1; margin-top: 15px; }
        .arrow-icon { transition: 0.3s; }
        .active .arrow-icon { transform: rotate(180deg); }
    </style>
</head>
<body>
    <div class="overlay">
        <div class="max-w-md mx-auto">
            <header class="text-center mt-6 mb-10">
                <h1 id="event-name" class="font-ufc text-6xl italic text-white leading-none">...</h1>
                <p id="event-date" class="text-slate-400 font-bold tracking-[0.3em] text-[10px] mt-2 uppercase italic"></p>
            </header>

            <div id="main-card-container"></div>
            
            <div class="flex items-center space-x-2 mb-6 ml-2">
                <div class="h-[1px] w-8 bg-red-600"></div>
                <h3 class="font-ufc text-sm text-slate-400 tracking-widest uppercase">Cards de Análise</h3>
            </div>

            <div id="lista-lutas" class="space-y-4 pb-10"></div>
        </div>
    </div>

    <script>
        // O timestamp (?t=) força o navegador a baixar a versão mais nova do JSON
        fetch('lutas.json?t=' + new Date().getTime())
            .then(res => res.json())
            .then(data => {
                document.getElementById('event-name').innerText = data.evento;
                document.getElementById('event-date').innerText = data.data_evento;

                const mainContainer = document.getElementById('main-card-container');
                mainContainer.innerHTML = `
                    <div class="glass-card rounded-3xl p-6 mb-10 border-l-4 border-red-600 cursor-pointer relative" onclick="this.classList.toggle('active')">
                        <div class="flex justify-between items-center mb-6">
                            <span class="text-[9px] font-bold text-slate-500 uppercase tracking-widest italic">Main Event</span>
                            <span class="bg-green-600 text-white text-[10px] font-bold px-3 py-1 rounded-full uppercase">Favorito ${data.main_event.prob}</span>
                        </div>
                        <div class="flex justify-between items-center font-ufc text-3xl italic">
                            <span class="text-slate-500 line-through decoration-red-600 decoration-2">${data.main_event.l1}</span>
                            <span class="text-red-600 text-xl px-2">VS</span>
                            <span class="text-green-500">${data.main_event.l2}</span>
                        </div>
                        <div class="details bg-black/40 p-4 rounded-2xl text-[11px] text-slate-300 italic leading-relaxed border border-white/5">
                            <strong class="text-green-500 uppercase block mb-1">Métricas Chave:</strong>
                            ${data.main_event.analise}
                        </div>
                    </div>
                `;

                const lista = document.getElementById('lista-lutas');
                data.lutas.forEach(luta => {
                    lista.innerHTML += `
                        <div class="glass-card rounded-2xl p-5 cursor-pointer transition-all border-l-4 border-${luta.cor}-500" onclick="this.classList.toggle('active')">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="text-[9px] text-slate-500 font-bold uppercase mb-1">Confiança ${luta.confianca}</p>
                                    <h4 class="font-ufc text-2xl text-white italic">${luta.nome}</h4>
                                </div>
                                <div class="bg-white/5 p-2 rounded-full arrow-icon">
                                    <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </div>
                            </div>
                            <div class="details text-[11px] text-slate-400 border-t border-white/5 pt-3 leading-relaxed italic">
                                ${luta.analise}
                            </div>
                        </div>
                    `;
                });
            })
            .catch(err => console.error("Erro ao carregar lutas:", err));
    </script>
</body>
</html>
